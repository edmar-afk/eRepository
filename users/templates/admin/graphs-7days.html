{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/apple-icon.png' %}">
    <link rel="icon" type="image/png" href="{% static 'img/logo.png' %}">
    <title>
        eRepository | Jhcsc
    </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'css/owl.carousel.min.css' %}">

    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Nucleo Icons -->
    <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" />
    <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
    <link href="{% static 'css/carousel.css' %}" rel="stylesheet" />
    <!-- CSS Files -->
    <link id="pagestyle" href="{% static 'css/style.css' %}" rel="stylesheet" />

    <link rel="manifest" href="{% static 'js/manifest.json' %}">
    <style>
        /* Basic styles for the dropdown menu */
        .custom-dropdown {
            position: relative;
            display: inline-block;
        }

        .custom-dropdown-button {
            background-color: #165c05;
            color: #fff;
            border: none;
            padding: 6px 12px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
        }

        .custom-dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .custom-dropdown.active .custom-dropdown-content {
            display: block;
        }

        /* Style the dropdown links */
        .custom-dropdown-content a {
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            color: #333;
        }

        /* Change link color on hover */
        .custom-dropdown-content a:hover {
            background-color: #ddd;
        }
    </style>
</head>

<body class="g-sidenav-show  bg-gray-100">
    <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 "
        id="sidenav-main">
        <div class="sidenav-header">
            <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none"
                aria-hidden="true" id="iconSidenav"></i>
            <a class="navbar-brand m-0" href="#" target="_blank">
                <img src="{% static 'img/logo.png' %}" class="navbar-brand-img h-100">
                <span class="ms-1 font-weight-bold">eRepository | JHCSC</span>
            </a>
        </div>

        <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
            <ul class="navbar-nav">

                <li class="nav-item">
                    <a class="nav-link" href="{% url 'dashboard' %}">
                        <div
                            class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path style="color:#333;"
                                    d="M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link  bg-white" href="{% url 'graph' %}">
                        <div
                            class="icon icon-shape icon-sm shadow border-radius-md bg-success text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-pie-chart" viewBox="0 0 16 16">
                                <path style="color:white;"
                                    d="M7.5 1.018a7 7 0 0 0-4.79 11.566L7.5 7.793V1.018zm1 0V7.5h6.482A7.001 7.001 0 0 0 8.5 1.018zM14.982 8.5H8.207l-4.79 4.79A7 7 0 0 0 14.982 8.5zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">View Stats</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'manuscripts' %}">
                        <div
                            class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path style="color:#333;"
                                    d="M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">Manuscripts</span>
                    </a>
                </li>
                {% if user.is_authenticated and user.is_staff %}
                <li class="nav-item" style="opacity: 0; display:none;">
                    <a class="nav-link" href="{% url 'users' %}">
                        <div
                            class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path style="color:#333;"
                                    d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">Staffs</span>
                    </a>
                </li>
                {% endif %}

                {% if user.is_authenticated and user.is_superuser %}
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'users' %}">
                        <div
                            class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path style="color:#333;"
                                    d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">Staffs</span>
                    </a>
                </li>
                {% endif %}
                <li class="nav-item">
                    <a class="nav-link  " href="{% url 'requests' %}">
                        <div
                            class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path style="color:#333;"
                                    d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">Requests</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="sidenav-footer mx-3 ">
            <ul class="navbar-nav">
                <li class="nav-item mt-3">
                    <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account pages</h6>
                </li>
                <li class="nav-item">
                    <a class="nav-link  " href="{% url 'logout' %}">
                        <div
                            class="shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" height="1.3em"
                                viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path
                                    d="M208 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM123.7 200.5c1-.4 1.9-.8 2.9-1.2l-16.9 63.5c-5.6 21.1-.1 43.6 14.7 59.7l70.7 77.1 22 88.1c4.3 17.1 21.7 27.6 38.8 23.3s27.6-21.7 23.3-38.8l-23-92.1c-1.9-7.8-5.8-14.9-11.2-20.8l-49.5-54 19.3-65.5 9.6 23c4.4 10.6 12.5 19.3 22.8 24.5l26.7 13.3c15.8 7.9 35 1.5 42.9-14.3s1.5-35-14.3-42.9L281 232.7l-15.3-36.8C248.5 154.8 208.3 128 163.7 128c-22.8 0-45.3 4.8-66.1 14l-8 3.5c-32.9 14.6-58.1 42.4-69.4 76.5l-2.6 7.8c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l2.6-7.8c5.7-17.1 18.3-30.9 34.7-38.2l8-3.5zm-30 135.1L68.7 398 9.4 457.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L116.3 441c4.6-4.6 8.2-10.1 10.6-16.1l14.5-36.2-40.7-44.4c-2.5-2.7-4.8-5.6-7-8.6zM550.6 153.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L530.7 224H384c-17.7 0-32 14.3-32 32s14.3 32 32 32H530.7l-25.4 25.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l80-80c12.5-12.5 12.5-32.8 0-45.3l-80-80z" />
                            </svg>
                        </div>
                        <span class="nav-link-text ms-1">Logout</span>
                    </a>
                </li>
            </ul>
        </div>
    </aside>
    <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg " id="main-content">
        {% include 'admin/includes/navbar_graph.html' %}

        <div class="container-fluid py-4 ">
            <div class="text-primary d-flex justify-center" style="font-size:14px;"><svg xmlns="http://www.w3.org/2000/svg" height="1.5em"
                    viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                    <style>
                        svg {
                            fill: #511f4b
                        }
                        
                    </style>
                    <path
                        d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z" />
                </svg><span style="margin-left:5px;">Updated every 8:00 AM</span></div>
            <div
                style="width: 100%; background-color: #fff; border-radius: 0.375rem; box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.1); padding: 1rem; margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between;">

                    <div class="custom-dropdown">
                        <button class="custom-dropdown-button" onclick="toggleDropdown()">Last 7 days</button>
                        <div class="custom-dropdown-content">
                            <a href="{% url 'graph-yesterday' %}">Yesterday</a>
                            <a href="{% url 'graph' %}">Today</a>
                            <a href="{% url 'graph_sevendays' %}">Week View</a>
                            <a href="{% url 'graph_thirtydays' %}">Month View</a>
                        </div>
                    </div>

                    <div class="col-lg-6 col-5 my-auto text-end">
                        <div>
                           
                            <p style="font-size: 1rem; font-weight: 400; color: #343434;">Visitors 7 days ago</p>
                        </div>
                    </div>

                </div>
                <div id="area-chart"></div>

            </div>
            <script>
                // ApexCharts options and config

                window.addEventListener("load", function () {

                    var currentStudentVisit7 = "{{ yesterday7_student_count }}"
                    var currentStudentCount7 = Number(currentStudentVisit7)

                    var staffVisit7 = "{{ yesterday7_staff_count }}"
                    var staffVisitCount7 = Number(staffVisit7)

                    var AlumniVisit7 = "{{ yesterday7_alumni_count }}"
                    var AlumniVisitCount7 = Number(AlumniVisit7)

                    var facultyVisit7 = "{{ yesterday7_faculty_count }}"
                    var facultyVisitCount7 = Number(facultyVisit7)



                    var currentStudentVisit6 = "{{ yesterday6_student_count }}"
                    var currentStudentCount6 = Number(currentStudentVisit6)

                    var staffVisit6 = "{{ yesterday6_staff_count }}"
                    var staffVisitCount6 = Number(staffVisit6)

                    var AlumniVisit6 = "{{ yesterday6_alumni_count }}"
                    var AlumniVisitCount6 = Number(AlumniVisit6)

                    var facultyVisit6 = "{{ yesterday6_faculty_count }}"
                    var facultyVisitCount6 = Number(facultyVisit6)



                    var currentStudentVisit5 = "{{ yesterday5_student_count }}"
                    var currentStudentCount5 = Number(currentStudentVisit5)

                    var staffVisit5 = "{{ yesterday5_staff_count }}"
                    var staffVisitCount5 = Number(staffVisit5)

                    var AlumniVisit5 = "{{ yesterday5_alumni_count }}"
                    var AlumniVisitCount5 = Number(AlumniVisit5)

                    var facultyVisit5 = "{{ yesterday5_faculty_count }}"
                    var facultyVisitCount5 = Number(facultyVisit5)



                    var currentStudentVisit4 = "{{ yesterday4_student_count }}"
                    var currentStudentCount4 = Number(currentStudentVisit4)

                    var staffVisit4 = "{{ yesterday4_staff_count }}"
                    var staffVisitCount4 = Number(staffVisit4)

                    var AlumniVisit4 = "{{ yesterday4_alumni_count }}"
                    var AlumniVisitCount4 = Number(AlumniVisit4)

                    var facultyVisit4 = "{{ yesterday4_faculty_count }}"
                    var facultyVisitCount4 = Number(facultyVisit4)



                    var currentStudentVisit3 = "{{ yesterday3_student_count }}"
                    var currentStudentCount3 = Number(currentStudentVisit3)

                    var staffVisit3 = "{{ yesterday3_staff_count }}"
                    var staffVisitCount3 = Number(staffVisit3)

                    var AlumniVisit3 = "{{ yesterday3_alumni_count }}"
                    var AlumniVisitCount3 = Number(AlumniVisit3)

                    var facultyVisit3 = "{{ yesterday3_faculty_count }}"
                    var facultyVisitCount3 = Number(facultyVisit3)


                    var currentStudentVisit2 = "{{ yesterday2_student_count }}"
                    var currentStudentCount2 = Number(currentStudentVisit2)

                    var staffVisit2 = "{{ yesterday2_staff_count }}"
                    var staffVisitCount2 = Number(staffVisit2)

                    var AlumniVisit2 = "{{ yesterday2_alumni_count }}"
                    var AlumniVisitCount2 = Number(AlumniVisit2)

                    var facultyVisit2 = "{{ yesterday2_faculty_count }}"
                    var facultyVisitCount2 = Number(facultyVisit2)





                    var currentStudentVisit = "{{ yesterday_student_count }}"
                    var currentStudentCount = Number(currentStudentVisit)

                    var staffVisit = "{{ yesterday_staff_count }}"
                    var staffVisitCount = Number(staffVisit)

                    var AlumniVisit = "{{ yesterday_alumni_count }}"
                    var AlumniVisitCount = Number(AlumniVisit)

                    var facultyVisit = "{{ yesterday_faculty_count }}"
                    var facultyVisitCount = Number(facultyVisit)
                    let options = {
                        chart: {
                            height: "100%",
                            maxWidth: "100%",
                            type: "area",
                            fontFamily: "Inter, sans-serif",
                            dropShadow: {
                                enabled: false,
                            },
                            toolbar: {
                                show: false,
                            },
                        },
                        tooltip: {
                            enabled: true,
                            x: {
                                show: false,
                            },
                        },
                        fill: {
                            type: "gradient",
                            gradient: {
                                opacityFrom: 0.55,
                                opacityTo: 0,
                                shade: "#1C64F2",
                                gradientToColors: ["#1C64F2"],
                            },
                        },
                        dataLabels: {
                            enabled: true,
                        },
                        stroke: {
                            width: 6,
                        },
                        grid: {
                            show: true,
                            strokeDashArray: 4,
                            padding: {
                                left: 2,
                                right: 2,
                                top: 0
                            },
                        },
                        series: [
                            {
                                name: "Current Student",
                                data: [currentStudentCount7, currentStudentCount6, currentStudentCount5, currentStudentCount4, currentStudentCount3, currentStudentCount2, currentStudentCount],
                                color: "#FF5733",
                            },

                            {
                                name: "Staff",
                                data: [staffVisitCount7, staffVisitCount6, staffVisitCount5, staffVisitCount4, staffVisitCount3, staffVisitCount2, staffVisitCount],
                                color: "#85FF33",
                            },
                            {
                                name: "Alumni",
                                data: [AlumniVisitCount7, AlumniVisitCount6, AlumniVisitCount5, AlumniVisitCount4, AlumniVisitCount3, AlumniVisitCount2, AlumniVisitCount],
                                color: "#E533FF",
                            },
                            {
                                name: "Faculty",
                                data: [facultyVisitCount7, facultyVisitCount6, facultyVisitCount5, facultyVisitCount4, facultyVisitCount3, facultyVisitCount2, facultyVisitCount],
                                color: "#1A56DB",
                            },
                        ],
                        xaxis: {
                            categories: ['{{yesterday_7days.date}}', '{{yesterday_6days.date}}', '{{yesterday_5days.date}}', '{{yesterday_4days.date}}', '{{yesterday_3days.date}}', '{{yesterday_2days.date}}', '{{yesterday.date}}'],
                            labels: {
                                show: true,
                            },
                            axisBorder: {
                                show: true,
                            },
                            axisTicks: {
                                show: true,
                            },
                        },
                        yaxis: {
                            show: true,
                        },
                    }

                    if (document.getElementById("area-chart") && typeof ApexCharts !== 'undefined') {
                        const chart = new ApexCharts(document.getElementById("area-chart"), options);
                        chart.render();
                    }
                });
            </script>

            <div class="row">
                <div class="col-12">
                    <div class="card mb-4">
                        <div class="card-header pb-0">
                            <h6>Visitor's Table</h6>
                        </div>
                        <div class="card-body px-0 pt-0 pb-2">
                            <div class="table-responsive p-0">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                Name</th>
                                            <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                                Role</th>
                                    
                                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                Username</th>
                                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                                Last Online</th>
                                    
                                        </tr>
                                    </thead>
                                    <tbody>
                                    
                                        {% for users in visitors %}
                                        <tr>
                                            <td>
                                                <div class="d-flex px-2 py-1">
                                    
                                                    <div class="d-flex flex-column justify-content-center">
                                                        <h6 class="mb-0 text-sm">{{users.first_name}}</h6>
                                                        <p class="text-xs text-secondary mb-0">Joined: {{users.date_joined}}</p>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <p class="text-xs font-weight-bold mb-0">{{users.last_name}}</p>
                                    
                                            </td>
                                    
                                            <td class="align-middle text-center text-sm">
                                                <p class="text-xs font-weight-bold mb-0">{{users.username}}</p>
                                            </td>
                                    
                                            <td class="align-middle text-center text-sm">
                                                <p class="text-xs font-weight-bold mb-0">{{users.last_login}}</p>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.js"></script>
    <script>
        const mainContent = document.getElementById("main-content");
        const iframeContainer = document.getElementById("iframe-container");
        const iframe = iframeContainer.querySelector("iframe");

        mainContent.addEventListener("wheel", (e) => {
            // Allow scrolling in the main content
        });

        iframeContainer.addEventListener("wheel", (e) => {
            // Prevent scrolling in the iframe container
            e.preventDefault();
            // Scroll the main content instead
            mainContent.scrollTop += e.deltaY;
        });

        iframe.contentDocument.addEventListener("wheel", (e) => {
            // Scroll the main content instead of the iframe
            mainContent.scrollTop += e.deltaY;
        });
    </script>
    <!--   Core JS Files   -->
    <script>
        function toggleDropdown() {
            var dropdown = document.querySelector(".custom-dropdown");
            dropdown.classList.toggle("active");
        }
    </script>
    <script src="{% static 'js/core/popper.min.js' %}"></script>
    <script src="{% static 'js/core/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/plugins/perfect-scrollbar.min.js' %}"></script>
    <script src="{% static 'js/plugins/smooth-scrollbar.min.js' %}"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="{% static 'js/soft-ui-dashboard.min.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</body>

</html>